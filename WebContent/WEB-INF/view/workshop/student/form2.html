
<div class="control-group">
	<label class="control-label">姓名</label>
	<div class="controls">
		<input type="text" class="span8" name="student.name" value="${escapeXml(student.name!)}" 
			maxlength="10" vMin="2" vType="length" onblur="platform_verify.onblurVali(this);" placeholder="2-10位任意字符">
		<span class="help-inline"></span>
	</div>
</div>

<div class="control-group">
	<label class="control-label">淘宝ID</label>
	<div class="controls">
		<input type="text" class="span8" id="taobaoId" name="student.taobao_id" value="${escapeXml(student.taobao_id!)}"
			maxlength="15" vMin="2" vType="length" onblur="platform_verify.onblurVali(this);" placeholder="2-15位任意字符">
		<span class="help-inline"></span>
	</div>
</div>

<div class="control-group">
	<label class="control-label">手机号码</label>
	<div class="controls">
		<input type="text" class="span8" name="student.mobile" value="${escapeXml(student.mobile!)}" 
			maxlength="20" vMin="0" vType="tell" onblur="platform_verify.onblurVali(this);" placeholder="5-20位">
		<span class="help-inline"> </span>
	</div>
</div>

<div class="control-group">
	<label class="control-label">QQ</label>
	<div class="controls">
		<input type="text" class="span8" name="student.qq" value="${escapeXml(student.qq!)}"
			maxlength="20" vMin="0" vType="qq" onblur="platform_verify.onblurVali(this);" placeholder="5-20位数字">
		<span class="help-inline"> </span>
	</div>
</div>

<div class="control-group">
	<label class="control-label">分类</label>
	<div class="controls">
		
									<div class="checkbox checkbox-inline">
                                        <input type="checkbox" id="inlineCheckbox1" value="PS原创" name="type">
                                        <label for="inlineCheckbox1"> PS原创 </label>
                                    </div>
                                    <div class="checkbox checkbox-inline">
                                        <input type="checkbox" id="inlineCheckbox5" value="2RL原创" name="type">
                                        <label for="inlineCheckbox5"> 2RL原创 </label>
                                    </div>
                                    <div class="checkbox checkbox-inline">
                                        <input type="checkbox" id="inlineCheckbox7" value="3RL原创" name="type">
                                        <label for="inlineCheckbox7"> 3RL原创 </label>
                                    </div>
                                    <div class="checkbox checkbox-inline">
                                        <input type="checkbox" id="inlineCheckbox9" value="CV原创" name="type">
                                        <label for="inlineCheckbox9"> CV原创 </label>
                                    </div>
                                    <div class="checkbox checkbox-success checkbox-inline">
                                        <input type="checkbox" id="inlineCheckbox2" value="PS修改"  name="type">
                                        <label for="inlineCheckbox2"> PS修改 </label>
                                    </div>
                                    <div class="checkbox checkbox-inline">
                                        <input type="checkbox" id="inlineCheckbox3" value="1RL原创" name="type">
                                        <label for="inlineCheckbox3"> 1RL原创 </label>
                                    </div>
                                    <div class="checkbox checkbox-success checkbox-inline">
                                        <input type="checkbox" id="inlineCheckbox4" value="1RL修改"  name="type">
                                        <label for="inlineCheckbox4"> 1RL修改 </label>
                                    </div>
                                    <div class="checkbox checkbox-success checkbox-inline">
                                        <input type="checkbox" id="inlineCheckbox6" value="2RL修改" name="type" >
                                        <label for="inlineCheckbox6"> 2RL修改 </label>
                                    </div>
                                    <div class="checkbox checkbox-success checkbox-inline">
                                        <input type="checkbox" id="inlineCheckbox8" value="3RL修改"  name="type">
                                        <label for="inlineCheckbox8"> 3RL修改 </label>
                                    </div>
                                    <div class="checkbox checkbox-inline">
                                        <input type="checkbox" id="inlineCheckbox10" value="CV修改" name="type">
                                        <label for="inlineCheckbox10"> CV修改 </label>
                                    </div>
		
		<span class="help-inline"></span>
	</div>
</div>

<div class="control-group">
	<label class="control-label">年份</label>
	<div class="controls">
		<select name="student.year" class="combox">
            <option value="2018" hassubinfo="true" #if($student.year == 2018) selected #end>2018</option>
            <option value="2019" hassubinfo="true" #if($student.year == 2019) selected #end>2019</option>
            <option value="2017" hassubinfo="true" #if($student.year == 2017) selected #end>2017</option>
		</select>
		<span class="help-inline"></span>
	</div>
</div>

<div class="control-group">
	<label class="control-label">截止日期</label>
	<div class="controls">
		<input id="endDate" type="text" name="student.end_date" value="${escapeXml(student.end_date!)}" onClick="WdatePicker()" readonly/>
		<span class="help-inline"> </span>
	</div>
</div>

<div class="control-group">
	<label class="control-label">专业</label>
	<div class="controls">
		<input type="text" class="span8" id="major" name="student.major" value="${escapeXml(student.major!)}"
			  placeholder="2-15位任意字符">
		<span class="help-inline"></span>
	</div>
</div>

<div class="control-group">
    <label class="control-label">备注</label>
            <div class="controls">
                  <textarea class="input-xxlarge" rows="3" name ="student.description">${escapeXml(student.description!)}</textarea>
             </div>
</div>
                  <input type="hidden" name="image" id="image" />
                 <div class="control-group" >
                 	  <label class="control-label">上传聊天记录</label>
                 	  
                  		<div class="controls" >
                               <div class="ibox-content" >
                            <div id="uploader" class="wu-example">
                                <div class="queueList">
                                    <div id="dndArea" class="placeholder">
                                        <div id="filePicker"></div>
                                        <p>或将照片拖到这里，最多可选6张</p>
                                    </div>
                                </div>
                                <div class="statusBar" style="display:none;">
                                    <div class="progress">
                                        <span class="text">0%</span>
                                        <span class="percentage"></span>
                                    </div>
                                    <div class="info"></div>
                                    <div class="btns">
                                        <div id="filePicker2"></div>
                                        <div class="uploadBtn">开始上传</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </div>
                 </div>

<script type="text/javascript">
	     var BASE_URL = "${cxt!}/jsfile/webuploader";
        </script>
        <script src="${cxt!}/jsfile/webuploader/webuploader.min.js"></script>

        <script src="${cxt!}/jsfile/webuploader/upload.js"></script>
        
<script type="text/javascript">
	jQuery(document).ready(function() {
		
	});
	
	/**
	 * 用户添加和编辑页面js
	 */
	var platform_user_form = function() {
		"use strict";
		
		/**
		 * 验证用户名是否存在
		 * @param userName
		 */
		var valiUserName = function(userName, userIds){
			var param = {"userName" : userName, "userIds" : userIds};
			var result = common_ajax.ajaxFunc("/platform/login/valiUserName", param);
			return result;
		}
		
		/**
		 * 验证邮箱是否存在
		 * @param mailBox
		 */
		var valiMailBox = function(mailBox, userInfoIds){
			var param = {"mailBox" : mailBox, "userInfoIds" : userInfoIds};
			var result = common_ajax.ajaxFunc("/platform/login/valiMailBox", param);
			return result;
		}
		
		/**
		 * 验证身份证是否存在
		 * @param idcard
		 */
		var valiIdcard = function(idcard, userInfoIds){
			var param = {"idcard" : idcard, "userInfoIds" : userInfoIds};
			var result = common_ajax.ajaxFunc("/platform/login/valiIdcard", param);
			return result;
		}
		
		/**
		 *验证手机号是否存在
		 * @param mailBox
		 */
		var valiMobile = function(mobile, userInfoIds){
			var param = {"mobile" : mobile, "userInfoIds" : userInfoIds};
			var result = common_ajax.ajaxFunc("/platform/login/valiMobile", param);
			return result;
		}
		
		var dataVali = function (form, isAdd){
			var usernameNode = $("#usernameId");
			var mailboxNode = $("#mailboxId");
			var idcardNode = $("#idcardId");
			var mobileNode = $("#mobileId");
			
			var usernameId = usernameNode.val();
			var mailboxId = mailboxNode.val();
			var idcardId = idcardNode.val();
			var mobileId = mobileNode.val();
			
			if(isAdd){ // 添加
				if(idcardId != "" && valiIdcard(idcardId) != "true"){
					idcardNode.next().html("身份证号码不可用！");
			 		return false;
				}
			
				if(usernameId != "" && valiUserName(usernameId) != "true"){
					usernameNode.next().html("账号不可用！");
			 		return false;
				}
			
				if(mailboxId != "" && valiMailBox(mailboxId) != "true"){
					mailboxNode.next().html("邮箱不可用！");
			 		return false;
				}
		
				if(mobileId != "" && valiMobile(mobileId) != "true"){
					mobileNode.next().html("手机号码不可用！");
			 		return false;
				}
			
			}else{ // 更新
				
				var userIds = $("#userIds").val();
				var userInfoIds = $("#userInfoIds").val();
				
				if(idcardId != "" && valiIdcard(idcardId, userInfoIds) != "true"){
					idcardNode.next().html("身份证号码不可用！");
			 		return false;
				}
			
				if(usernameId != "" && valiUserName(usernameId, userIds) != "true"){
					usernameNode.next().html("账号不可用！");
			 		return false;
				}
			
				if(mailboxId != "" && valiMailBox(mailboxId, userInfoIds) != "true"){
					mailboxNode.next().html("邮箱不可用！");
			 		return false;
				}
		
				if(mobileId != "" && valiMobile(mobileId, userInfoIds) != "true"){
					mobileNode.next().html("手机号码不可用！");
			 		return false;
				}
			}
	
			var pass1Node = $("#pass1Id");
			var pass2Node = $("#pass2Id");
			
			var pass1Id = pass1Node.val();
			var pass2Id = pass2Node.val();
			if(pass1Id != pass2Id){
				pass1Node.next().html("两次输入密码不一致！");
				pass2Node.next().html("两次输入密码不一致！");
		 		return false;
			}
			
			var errorCount = platform_verify.formVali(form);
			if(errorCount != 0){
				common_modals.alert("有" + errorCount + "处错误，请修正！");
		 		return false;
			}
			
			common_ajax.ajaxFormMainPanel("editForm");
		}
	
		return {
			submitValiFunc: dataVali
		};
		
	}();

</script>